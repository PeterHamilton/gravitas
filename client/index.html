<!DOCTYPE html>
<html>
  <head>
    <title>Gravitas</title>
    <link rel="stylesheet" type="text/css" href="style.css" />

    <script type="text/javascript" src="js/lib/coffee-script.js"></script>
    <script type="text/javascript" src="js/lib/raphael.js"></script>
    <script type="text/javascript" src="js/lib/g.raphael.js"></script>
    <script type="text/javascript" src="js/lib/g.pie.js"></script>


    <script type="text/javascript" src="js/lib/jquery.js"></script>
    <script type="text/javascript" src="js/lib/jquery.cookie.js"></script>
    <script type='text/javascript' src='js/lib/knockout.js'></script>

    <script type='text/coffeescript' src='js/ko-extenders.coffee'></script>

    <script type="text/coffeescript" src="js/config.coffee"></script>
    <script type="text/coffeescript" src="js/crosshair.coffee"></script>
    <script type="text/coffeescript" src="js/turret.coffee"></script>
    <script type="text/coffeescript" src="js/arena.coffee"></script>
    <script type="text/coffeescript" src="js/game.coffee"></script>
    <script type="text/coffeescript" src="js/ball_view.coffee"></script>
    <script type="text/coffeescript" src="js/vortex.coffee"></script>
    <script type="text/coffeescript" src="main.coffee"></script>
  </head>

  <body>

    <div id="login-overlay" class="screen" data-bind="fadeVisible: !gameStarted()">

      <div id="login-window" data-bind="fadeVisible: !loggedIn()" class="box">
        <div id="logo-small"></div>
        <p><label for="userName" class="label">Username:</label>
        <input id="userName" data-bind="value: username" name="userName" maxlength="320" type="text" tabindex="1" class="input" /></p>

        <p><label for="password" class="label">Password:</label>
        <input id="password" data-bind="value: password" name="password" maxlength="16" type="password" tabindex="2" autocomplete="off" class="input" /></p>

        <button data-bind="click: logIn">
          Log In
        </button>
      </div>

      <div id="lobby-window" data-bind="fadeVisible: !gameStarted() && loggedIn()" class="box">
        <div id="logo-small"></div>
        <table>
            <thead><tr>
                <th>Username</th><th>Rating</th>
            </tr></thead>
            <tbody data-bind="foreach: connectedPlayers">
                <tr>
                    <td><span data-bind="text: username">Username</span></td>
                    <td><span data-bind="text: rating">Rating</span></td>
                </tr>
            </tbody>
        </table>
        <br />

        <label>Total connected: <label data-bind="text: connectedPlayers().length"></label></label><br />
        <button data-bind="click: connectNew">
            Add a player
        </button>

        <button data-bind="click: pingServer">
          Ping Server
        </button>

        <button data-bind="click: startGame">
          Start Game
        </button>

      </div>

    </div>




    <div id="game" class="screen">

      <div id="game-table">
        <div id="paper-container">
          <div id="paper"></div>
        </div>
      </div>

      <div id="controls">

        <div class="divlabel">dev</div>

        <p id="lag_indicator" data-bind="css: { lag: lag }">Lag indicator</p>

        <p>
          <input id="toggleLogin" type="checkbox" />Logged in
        </p>


        <p>
          <input id="toggleGameStarted" type="checkbox" />Game Started
        </p>

        <p>
          Player:
          <input type="radio" class="player" name="player" value="0" data-bind="checked: player" checked="checked" />0
          <input type="radio" class="player" name="player" value="1" data-bind="checked: player" />1
          <input type="radio" class="player" name="player" value="2" data-bind="checked: player" />2
          <input type="radio" class="player" name="player" value="3" data-bind="checked: player" />3
        </p>

        <div id="log_container">

          <form id="chatform">
            <input type="text" id="chatinput" />
          </form>

          <h4>Log:</h4>
          <div id="log"></div>
        </div>

      </div>

    </div>
  </body>

</html>
